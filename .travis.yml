language: java
jdk:
- oraclejdk8
addons:
  sonarcloud:
    organization: mediathekview
    token:
      secure: 0KaESwMnF1zDoDDQ0PIgBAeAMhpPVym+K/D31GxFzgBjGdMnuj+DnVm1wnFhuynnAKkCApMhXiBrDYTmRzdQHjWpLtdJMiLorf8rWxvlZ4Jjhoh+RQvlsagXh94cchUBvz3ZrNqs4eFKTn3i57atTRygP2gO30iVxBOOt9QFwEeZ7bfsvXqMo4KiaYcyitmNdZAkgTkphsk4VtWqcMKMTxp5adITzFc8AkOifMi7bQivfrogzVAhjWlYi0GiH6CRl0S9Kxqzky/nSlVyMuukMl6FOT2t8DCMNrD42nehEgusTB1XaWe504iO/BcdTk4cmYwgT5UfLdl/usilwi9Az58sMCUSpJvc3M7Jjc4PqKSFmU0vozNW0oY4lGdGG3vLNqOoTd8+TPpW7JpRZpjsa7YEeAoizdivkUxG86DaTGNkCEh4kAXpIFahLNSMO1gREmJHkD2gdz+luhkIMjyMp+cqq+EKhG8T0g0SmIiDiJkL9nCCVc5InS9vWNxINhjr4R0GtVp1p+YINknkO1k5IZ53sNY47yKFZz88zWKy7jyN20abwPIv5qccwa0yTbiLC+al0IyaIeC9AWOgikuFY8Su5aaGIK8ZNdlq0gcNz0iw1igjc+Y0qOuA9JHMGHZkT3qujC7KdLTUUSDNG9ImKmzsycl/Nt+deOPqVq1Hbjw=
    github_token:
      secure: g1ScaT1Ck6osYVnOx6yRCJyS99/1xkB4cQOwBSxMfz8kaj3QCUVPs/HkzP6Em0rXSiKWuUGNviGgthK1gM7JOmkNU3wf0pY5vpcFy5QBYtS9OFRr9tk6XMEL4F1myFtPiulkDsmiveVzoGVIux4CTJJkWTUFEaYl6bmRryb3mm+XYVFMXGHYjoaBhpN4IoNVngBKEWkyBEh4yaf/7Ao1bXWZvgb1ai7v/tnOTyWmEL8a8ZCmLmCkpjwu2hVWtaJ/6J1mwN90d1UbA9ZK6Ci3AYtf2zMdYhudi0n8VHBdZXdO4Pau/k3wR1mwMOW79zfQAaXuabeSQB79XauHjUcGAgA0Gt0Lf9xUKfZv8uAziXhO2aPEjbFMEJiYtX1EIWg5+9C3APrLVXxagZQPVVZsWb8fS1TZP5wkq7VR5vlb3/VVR4q5iwUemGCJVyXvjT+tPKejF2S3OKZli3Dt17paTZkcGRZ86h7NFguzcfBUMIsCuya4Ga9bLMp0dBDrJbSmvhgWWQiXz75tzGd355QAnScfdrVnLSc9eNYaPctLtJgeZ6g8TuaywUPeDjy/aQdPqe0WdwWT6M7OR6DH5fFapQVT/X+b7ouiMs0q2BwCzneD5+k9aE5FQSNw3P9Bunwm8kpv96IH5xrbH//L1GeBCpq3TDl8WnVAOTa9gSSH0ec=
    branches:
    - master
    - develop
    - feature/.*
    - hotfix/.*
env:
  global:
  - secure: vROFVCc18khzwp59MCvb7NqqhlSM07krRp27hnrYQePTm0YjfNo/fWd2R6/IP9ZrOuWfeFPvZI9ci1Q2MBFm2PUz9OLQg2UiKRk9XHN/u/aQsDaEO4Xlyuj9ONaIzYPjxXVIYw09gDZK34pOKFXmmb4Ef/lliHA91oMprUMB0k4yZRZSeF4o7UCL7UbNGWlg839Tg9hqKebL4vXuNwuoB75TgsqkKu3ayJVq+YD9bA+qzuygf8t8NlcdaHGbmRIPQigJFaUDehp9ntsKQNxazPtiwKB9rmnbtaKkdJNy1f0YAdQxmznSKc18bdGWr9eA69mVkPWrUlSxb304wBHB9CKnQT8yaWlFjMZSjyrIz5Xp7dNcJUHQ7Y19mG1ZmCmQxZd1uP7vA60kSUocCycciV2X0+CjdiYqFhjhiCLkrm3BD9TM7u2g7HjneRyK/5gkyxQo5YW8vfWtVy65vgiAlc0oVRA1YvhRq7v+ppnL3Fhz7osVVc15rZePjQyQ6mSURZ5r94EUU2Jcd6rbxiLnsKycr2dZDfDHhxgQ2L86WsclakoQXitRg2GpabSu/fjIaFAzOVnK5ezXFZaCoWaPJ8IwfMB8U4I0uQDCoWjUXl6c3uAI18xIHF1idvNIiEHiqfUIm0ZiEKLpL2m4EKpx6ig/nYNgNvwI8NDXXAIU56k=
  - secure: cbbsJS1/MzP6NCV5cQ7XXoHE5Ftv5o7gJmesAZbhGGSz9Sjqaka0yx0bxvZprApQSzRq3THHQ/DWRwAUvUUN0/SN6cmCILR3xl2blt6Rvb2JY/w4IrwquO6/yN3TfgKP/GdKqrcLNmlVyJAEXRXpepKSZ64JbzX1DGgMVyT9WWFj8UcbdAA/gGphYRtckfYBDIUbKCqbTHl1krVE/p9S1lv/uM6gp2r8k+/d/wPHxD2HSDjfBKC62yzK0OdFC4hzg3bUw615qn7lWizNerzI7aXqq2DeiXEqhG9g+lghs2l2al7PoklLyD1lGGdSB/rt6u7vzOIID4Ztqzi/RJ7QDA/0YM1EzpI/3IJEE7hi2c+7I81dGzahTw10olNHeYQAvyREecpUUlWQTOG2HFkmfnagJXQ6UkUMOo3AEYi1CguwQhhcdjdLXPbOjEfgheNdHnAKzmP4MZz1EViiYIvNOJCXMUNTvxi1jv3PK/ab+awB4WnBK7eLn9H/rX7o1FtsHZ/WWKWjfSXUdepipu9sok/4EXFnNYn+nX4rTUjkwLsgtk4nMLWhy07sfsCO3g5nfm4C8LbA7X9kFGxPijfSeXZhiihY6Vk9GT7qBbF5906lt5HGVzSl2DoF/VX4WQ4vy0shmb/HyOPF3VEyUnzXFscYZXAnQEL4E7aCLB2+byg=
  - secure: K/WAznUFe3inIMq8/XobtV3uOWSz0V3pW5t0uxj1it+BlQJvGwwgzV1GqgX2F50IIetcfxTQ4nRjOQyOrESHUVeT5OjtcblVcklzinvPa4w2qADHpJ67tC6bwH07KJ8Y70X0uRZtBVYCrXMB5bm/oVlTg4MKsaeXmy7PsKXKktxkYQnrpaGiUADp6UVAw6jeyFgxbriG0T6Ja/iUmQycp1aLP4HQHBOyTl+nu7cMwInxfYu8bUZdmcBj/z+HzVL+PJWFMGvW6rWFEHTnIXdKyI2dPSjfH93cJZ0GM0upliv141LlFl3pOR18diSKxQo65tRKiuHqlR0ZqQUmO2U+LQjy2ZbEjF9AOaysULANTb9zb1zKWOyXSCv2Vnp/f118lRJv87AO7+iHCUXImqxFzgImXjcy2s7S2FmJ6/ouVWYuGgnqwhbKtdM5+gRcIPlXyWXzcU48zf4BtGjC3/ghwDHxKBEQpNIA1FzF8vN0E7YG6JmXKrYHyyh33cm9zVJhbgGJ2Ozc/CSHtj1ikIBXXM1XI7DggeAjSIzUpwPlkMgJfyVsllmIIMS3pYEUrhwn7eumD0A1yoDi7YHxEUc4VTT+GjOlQ0pXQXy8OlwGffYInR0nDOa+ncG6vwRTtpA/2/OaNJW2QHI/190Q1iJw+r/SmokE4aUSmdnfQMwQNso=
  - secure: p90HZv/z4Okqh53ib3EghY2uhDAM5ipgtxRmFUrN6uAXUo93DRtGqBOWoE6IBsxTBhTL0u283SvM3rK/axLIVACHQkBJgl89tuthjD4PLrTNos6MagdvoeTQNC1GHTuBK72//5RcjipXuSpUjVKGu8ovFNl/BI5EeATqfHjh/ohyrDYGNqCtUTDq93eILbZLxGnnIpnqVQvQnuzE22NL0IkbIOxoYKpfRqu5oFN7gH2lycCU0jN9JVKvkyZf97GtaHLIRoOS1Strw8QwB2fdrEEnW4U02ai4sjoQCDjGTQ79wUO/IjVm+ChJpSx+uW1qTNpE50GKvOhL/N9bVDl9CyH1sIm1453mqwKMEogTApqYaL2T/Pp9Jf5XYEX1zmhFoh97vkMJMgRcHmtk1Y0L0tFSXyIGFeVWsQoqUWqdFroK86QtoQziZwTx7Z109W1R1TWB8qJiWuj1KNFu4JpWE4G7ycWNx3nzIsThlC5vQA4cAUDBojg9tjn+vDLmulRTfQ9lUdCfyI2KPqQMgBuqKPwF2k21Pj/SdoNnvSIOP59HKIPTS8IHQYRRPd3rJIgdmjlblJgQmoq/eHAQF00Bb1CDqPoiVySv4yeU17d6BK+BHRtwLbaABu/SyxQgvQyeqOe2CFQFDVo0NDk+G6rMcQEGPVf9G7yaE6nwkU5JFLI=
  - secure: gFZNW14AfB9mN206ElDW0XagCoQx3NUvAGtHytvXKK7S3JBs58O//Zi5obCRV9AJ/PpFa4r+WNY8MaIbORop+AYzImXkH21nzU1VAJUPWLOQPip6M8qY1OBctShEE+piJCz9F+4oiQ20Zfo4XloWdAkwSs6OV1QQm5ggS0U2rJEREufHzHMvNVfhlI/nxqVB8SovUyj3mJAgTNh2d7074dxDYsQHW3mZClUOxea/RziruqyP0cJfcYKDoNRpSQOgH/nB7h+1QtVb6wa7WbBZLjrZgKaIUUsJq8LRBYxQE4kHjAE9eGhdUTa76DZ80+lUciEuWeuocRWQ9ofRq81BuvrL+rY5o0j1ZQkElybf5KLPdv0OB2QqU9cIWE3Y6vs9GAjFijOoA0rltAO6/v03CE1BF75Pz75Bhsmc8ajkvuTuz+uVw2oKVRr5Zc/iBr8/CGb2ibL0izxX5iMP4Yyvbv7YZGTuqj4vxexew2Fa2QSwz3EcvYkZoeTLWE2cv65qzUrgpiS4DL5OgtRZlUExuYlpoQaQZCYxM+JwD76LEpw7qhXOzgK/Vz+MxEQjNOcJz5VlZekRAN+1LG4sQKZ76sofWhzSVQPDKpvc/QKBZtgB0hiCw3zyIy66h2Pa27REocbLDPdfNI1W6QDaMC0+BYd2PLbCIolkEjTt6GxsbTs=
  - secure: T3vuXzRxI4COHWK1vibP1m2AKxppbK38x9grY3udXi8mXmFL/4tyF7mm9KHvHMd0uXcAxmkICiUfFqxxr+1SwMVgaX6AHq3mcR/fJpwlRYrL+piLUYlaWLQ04dZ6TybKdBmUH/Bg/NLDOhqJQr1AgYlK4RCESVzmoEzwXUh79sH9/HbXFqW9CX/ueQEL/q6eVzuwg9MO9M0ZWVtmi4yvr1HN8BTgllz46aX5seeE3b1+192FfObwOWp/cl8oP2nRNbvz0npxTo3OWEcbntzO9lFLwZv8Nfa1eS22Ro4Pw2M59gfBCag+vnqAKct0UA/kt/t9UIQQjyuLyl0CwzdYgeZ9OPhrsnbmc6lWvyyTHvqrp3ck+vR+JO9Yt2m2juvMNFVn9NDEr8Odb4oLZUeF6YEhgic4veqb5UeWsm58qcter05V6xoKGjXl7vuA6gHc8/1GngZWOYX2+l53wrluFr+hAvYcjr8ifbM9ydW3DA0Bc/rzVo2/AUVnDl3r+DGOZ3pTNJy9flTss8CUS9bRGVV3eF1Mm6zT1/UXYwZiWggXG2CZ8bRsHjl0a+nD2y1KjfCC8tjBAw7Fsu0C2rVswJBXPtiJpTuD0HIuNSiX9/TKevEZrTez6BCm6E8l8v+0ZC/KiI7bRV4DSN/y6WJNZPB8L+HTCqcEKQYZ7414eeI=
before_script:
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in scripte/deploy/secring.gpg.enc
  -out scripte/deploy/secring.gpg -d
- gpg --fast-import scripte/deploy/secring.gpg
script:
- "./mvnw install"
- if [ "$TRAVIS_BRANCH" == "develop" ]; then ./mvnw --settings .maven.xml deploy; fi
after_success:
- sonar-scanner

cache:
  directories:
  - .autoconf
  - $HOME/.m2
  
before_deploy:
- openssl aes-256-cbc -pass pass:$ENCRYPTION_PASSWORD -in scripte/deploy/secring.gpg.enc
  -out scripte/deploy/secring.gpg -d
- gpg --fast-import scripte/deploy/secring.gpg
- "./mvnw --settings .maven.xml deploy"
deploy:
  provider: releases
  api_key:
    secure: g1ScaT1Ck6osYVnOx6yRCJyS99/1xkB4cQOwBSxMfz8kaj3QCUVPs/HkzP6Em0rXSiKWuUGNviGgthK1gM7JOmkNU3wf0pY5vpcFy5QBYtS9OFRr9tk6XMEL4F1myFtPiulkDsmiveVzoGVIux4CTJJkWTUFEaYl6bmRryb3mm+XYVFMXGHYjoaBhpN4IoNVngBKEWkyBEh4yaf/7Ao1bXWZvgb1ai7v/tnOTyWmEL8a8ZCmLmCkpjwu2hVWtaJ/6J1mwN90d1UbA9ZK6Ci3AYtf2zMdYhudi0n8VHBdZXdO4Pau/k3wR1mwMOW79zfQAaXuabeSQB79XauHjUcGAgA0Gt0Lf9xUKfZv8uAziXhO2aPEjbFMEJiYtX1EIWg5+9C3APrLVXxagZQPVVZsWb8fS1TZP5wkq7VR5vlb3/VVR4q5iwUemGCJVyXvjT+tPKejF2S3OKZli3Dt17paTZkcGRZ86h7NFguzcfBUMIsCuya4Ga9bLMp0dBDrJbSmvhgWWQiXz75tzGd355QAnScfdrVnLSc9eNYaPctLtJgeZ6g8TuaywUPeDjy/aQdPqe0WdwWT6M7OR6DH5fFapQVT/X+b7ouiMs0q2BwCzneD5+k9aE5FQSNw3P9Bunwm8kpv96IH5xrbH//L1GeBCpq3TDl8WnVAOTa9gSSH0ec=
  file_glob: true
  file:
  - target/*
  skip_cleanup: true
  on:
    tags: true
